%about: A cheatsheet for Python Debugger 
%author: Florian Preinstorfer <nblock@archlinux.org>
%url: https://github.com/nblock/pdb-cheatsheet
%license: creative commons by-nc-sa
%credits:
%  - LaTeX template based on https://github.com/mtdavidson/emacs-cheatsheet
%  - https://anilattech.wordpress.com/2011/06/29/python-debugger-pdb-cheatsheet
%  - https://pythonconquerstheuniverse.wordpress.com/2009/09/10/debugging-in-python
\documentclass[11pt,landscape,a4paper]{article}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{eqlist}
\usepackage[pdftex,hidelinks]{hyperref}
\usepackage{nopageno}
\usepackage[cm]{fullpage}
\usepackage{multicol}
\usepackage[hang,flushmargin]{footmisc}
\usepackage{graphicx}

%custom commands and config
\newcommand{\theauthor}{Florian Preinstorfer (\href{mailto:nblock@archlinux.us}{nblock@archlinux.us})}
\newcommand{\theversion}{1.0}
\newcommand{\keystroke}[1]{$<$#1$>$}
\parindent=0cm
\parskip=2mm
\def\eqlistlabel#1{\bfseries#1}
\setcounter{secnumdepth}{-1} 
\hypersetup{
  pdftitle={Python Debugger Cheatsheet},
  pdfauthor={\theauthor},
  pdfkeywords={Python, Debugger, Cheatsheet, pdb, ipdb},
  pdfstartview={FitH}
}

\begin{document}
  \begin{center}
    \begin{minipage}[c]{0.15\textwidth}
      \includegraphics[width=3cm]{python-logo}
    \end{minipage}
    \begin{minipage}[c]{0.43\textwidth}
      \huge \bfseries Python Debugger Cheatsheet
    \end{minipage}
    \begin{minipage}[r]{0.15\textwidth}
      \includegraphics[width=3cm]{python-logo}
    \end{minipage}
    \vspace{1cm}
  \end{center}

  \begin{multicols}{2}
    \section{Getting started}
      start pdb from within a script:\\
      {\bfseries import pdb;pdb.set\_trace()}
      
      start pdb from the commandline:\\
      {\bfseries python -m pdb \keystroke{file.py}}
      
    \section{Basic movement}
      \begin{eqlist}
        \item[n(ext)] execute the current statement
        \item[s(tep)] step into function
        \item[h(elp)] print available commands
        \item[h(elp) \textit{command}] print help about \textit{command}
        \item[\keystroke{ENTER}] repeat the last command
        \item[q(quit)] quit pdb

        \item[r(eturn)] continue execution until the current function returns
        \item[c(ontinue)] continue execution until a breakpoint is encountered

        \item[p(rint) \textit{expr}] print the value of \textit{expr}
        \item[pp \textit{expr}] pretty-print the value of \textit{expr}
        \item[a(rgs)] print the args of the current function
        \item[w(here)] print current position (including stack trace)
        
        \item[!\textit{stmt}] treat \textit{stmt} as a Python statement instead of a pdb command

        \item[l(ist)] list 11 lines of code around the current line
        \item[l(ist) \textit{first}, \textit{last}] list from \textit{first} to \textit{last} line number
        
        \item[u(p)] move one level up in the stack trace
        \item[d(own)] move one level down in the stack trace
      \end{eqlist}

    \section{Breakpoints}
      \begin{eqlist}
        \item[b(reak)] show all breakpoints
        \item[b(reak) \textit{lineno}] set a breakpoint at \textit{lineno}
        \item[b(reak) \textit{func}] set a breakpoint at the first line of a \textit{func}
      \end{eqlist}
  \end{multicols}
  \let\thefootnote\relax\footnotetext{
    by \theauthor, version \theversion, 
    license \href{https://creativecommons.org/licenses/by-nc-sa/3.0}{cc-by-nc-sa 3.0}\\
    see \url{https://github.com/nblock/pdb-cheatsheet} for more information.
  }
\end{document}
